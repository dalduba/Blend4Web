
Visual Programming
******************


Visual Programming (Logic Editor)
=================================

Performed by creating logic node tree in the node editor area in
Blender. These nodes can extend the scene functionality significantly
without any coding.

[image]

To activate logic on the given scene set the "Logic Editor" property
in the "Scene" tab and append/select active node tree.

[image]

To edit logic tree go to the "Node Editor" area and select the
"Blend4Web Logic" tree type:

[image]

Then select the required node tree:

[image]



Nodes are created by using standard Blender keyboard shortcut
"Shift+A".

The nodes themselves are logic blocks that are executed from the
"Entry Point" node which has no inputs and only one output. All other
nodes have both inputs and outputs, and can be inserted in any place
of a logic tree. The exception is "Page Redirect" node, which can be
inserted only to the end of the node tree. The nodes which have two
outputs allow braching, thus the next leave is selected based on
condition specified for such nodes.

For implementing complicated logic there are numeric variables called
registers. Each of 8 registers can store a single numeric value. The
registers can be used for storing some scene state (e.g. this can be a
counter of animation playbacks, character's health points etc).

Logic Editor usage example:

[image]

All possible nodes are described below.


Entry Point
-----------

This is where the script starts.


Play Timeline
-------------

Play back the NLA segment starting from the frame to which the marker
points. Animation is played back until the next marker is met, or to
the end of the timeline. Finally the next node receives the control.

[image]


Play Animation
--------------

Play the object's animation. The animation name can be optionally
specified.


Select & Play Timeline
----------------------

Wait until the user selects an object (on desktops - with a mouse
click, on mobile devices - with a touch). If the object, which is
specified in this node, is selected - then start the animation similar
to the "Play Timeline" node. If any other object is selected - then
immediately transfer control to the next node.


Select & Play Animation
-----------------------

Wait until the user selects an object (on desktops - with a mouse
click, on mobile devices - with a touch). If the object, which is
specified in this node, is selected - then start the animation similar
to the "Play Animation" node. If any other object is selected - then
immediately transfer control to the next node.


Select
------

It is similar to the "Select & Play" node, except the transition
happens instead of animation. This function allows to implement a
complicated logic because in this case there is a possibility to
identify the user selection results.


Conditional Jump
----------------

Go to the specified node if the certain condition is met. The
parameters (operands) can also be registers that are activated using
the corresponding switches.


Variable Store
--------------

Save a numeric value in a variable.


Math Operation
--------------

Perform a math operation and save the result in the register. Any of
parameters (operands) can be either a numeric value or a register.


Show Object and Hide Object
---------------------------

This is used to hide and show 3D objects.


Page Redirect
-------------

This serves as a page redirect to other web pages.


Page Param
----------

Allows to store any web page parameter in a given numerical register.


Send Request
------------

Send an HTTP GET request to the specified URL and save the respond's
fields to variables.


Inherit Material
----------------

Copy attributes from one material to another.


Set Shader Node Param
---------------------

Set vaue for the shader node. Currently only Value and RGB nodes are
supported.


Delay
-----

Make a delay before going to the next node.


Apply Shape Key
---------------

Set the Shape Key factor.


Outline
-------

Controls object outliing effect.


Debugging
---------

For debugging purposes some nodes inside logic tree can be muted.To do
that select the required node and press the "M" key. Muted nodes are
not evaluated and simply pass control to the next ones. If the muted
node has two outputs the execution continues from the output with
negative result ("Miss", "False").
